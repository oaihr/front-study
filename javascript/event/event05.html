<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{
            width: 100px;
            height: 100px;
            border: 1px solid black;
        }
        .bg-red{
            background-color: red;
        }
    </style>
</head>
<body>

    <div class="box" id="box1"></div>
    <div class="box" id="box2"></div>
    <div class="box" id="box3"></div>
    <!-- 박스가 여러 개 일 때 -->
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>    

    <script>
        
// 개별적으로 요소 선택 -> 개별적으로 적용 -------------------------------------------------------------
        const box1 = document.getElementById('box1');
        const box2 = document.getElementById('box2');
        const box3 = document.getElementById('box3');

        // /* let box1flag = true; */
        // box1.addEventListener('click', ()=>{
        //     box1.classList.toggle('bg-red');
        //     /* if(box1flag){
        //         box1.classList.add('bg-red');
        //         let box1flag = false;
        //     }else{
        //         box1.classList.remove('bg-red');
        //         let box1flag = true;
        //     } */
        // });

        // box2.addEventListener('click', ()=>{
        //     box2.classList.toggle('bg-red');                
        // });
        // box3.addEventListener('click', ()=>{
        //     box3.classList.toggle('bg-red');                
        // });
        
// 요소들 한번에 선택 -> 반복문으로 적용 ----------------------------------------------------------------
                //   document.getElementsByClassName('box'); HTML 컬렉션을 반환 (반복문 불가능)
        const boxList = document.querySelectorAll('.box');  //NodeList를 반환   (반복문 가능)

        //반복문으로 여러개 적용
        /* for(let i=0; i<boxList.length; i++){
            boxList[i].addEventListener('click', ()=>{
                boxList[i].classList.toggle('bg-red');
            })
        } */

        // boxList의 요소들 하나씩 반복
        /* boxList.forEach( (item)=> {
            // console.log('출력');
            console.log(item);
            item.addEventListener('click', ()=>{
                item.classList.toggle('bg-red');
            })
        }); */
        

        //this 활용
        /* boxList.forEach( (box)=> {            
            box.addEventListener('click', function(){
                console.log(this);  // this 는 이벤트가 발생한 자기자신 요소
                this.classList.toggle('bg-red');
            })
        }); */

        //this 활용 + 화살표함수
        boxList.forEach( (box)=> {            
            box.addEventListener('click', (event)=>{
                // console.log(this);   this 안됨
                // this.classList.toggle('bg-red');
                console.log(event);
                // 발생한 이벤트 정보를 가진 event 객체 내부에 
                // target 키 값으로 접근하는 value에 이벤트 발생 요소가 들어있음
                event.target.classList.toggle('bg-red');
            })
        });
    </script>
</body>
</html>